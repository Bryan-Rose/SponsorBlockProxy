using System.Threading.Tasks;

using NUnit.Framework;

using SponsorBlockProxy.Audio.FP;
using SponsorBlockProxy.Audio.Splice;

namespace SponsorBlockProxy.Tests
{
    public class Tests
    {
        [SetUp]
        public void Setup()
        {
        }


        public async Task Query()
        {
            var s = new FPService(null, null, null);
            await s.StartupRegisterAll("C:\\code\\SponsorBlockProxy\\Samples");
            await s.Query(@"C:\Users\bryan\Downloads\d69ad425-b889-4498-833a-ae43a802b0b8.mp3");
        }


        public async Task Splice()
        {
            string podcast = @"C:\Users\bryan\Downloads\d69ad425-b889-4498-833a-ae43a802b0b8.mp3";
            var s = new FPService(null, null, null);
            await s.StartupRegisterAll("C:\\code\\SponsorBlockProxy\\Samples");
            var qResult = await s.Query(podcast);

            var splicer = new SplicerService();
            string finalFile = await splicer.Cut(podcast, new SplicerService.CutOut
            {
                Start = qResult.FirstMatch,
                Stop = qResult.SecondMatch,
            });



        }
    }
}